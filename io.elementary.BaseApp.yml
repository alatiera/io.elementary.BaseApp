id: io.elementary.BaseApp
runtime: org.freedesktop.Platform
sdk: org.freedesktop.Sdk
runtime-version: "18.08"
separate-locales: false
cleanup:
  - /cache
  - /man
  - /share/aclocal
  - /share/devhelp
  - /share/gtk-doc
  - /share/man
  - /lib/systemd
  - "*.la"
  - "*.a"
modules:
  - name: graphviz
    sources:
      - type: archive
        url: https://graphviz.gitlab.io/pub/graphviz/stable/SOURCES/graphviz.tar.gz
        sha256: ca5218fade0204d59947126c38439f432853543b0818d9d728c589dfe7f3a421

  - name: vala
    cleanup-platform:
      - "*"
    config-opts:
      - --enable-vapigen
      - --enable-unversioned
    sources:
      - type: archive
        url: https://download.gnome.org/sources/vala/0.40/vala-0.40.11.tar.xz
        sha256: 1fc591258b63cbb0721c784d8a0abedbb178f4205132a7ee3141f32667301576

  - name: libgee
    make-install-args:
      - girdir=/app/share/gir-1.0
      - typelibdir=/app/lib/girepository-1.0
    sources:
      - type: archive
        url: https://download.gnome.org/sources/libgee/0.20/libgee-0.20.0.tar.xz
        sha256: 21308ba3ed77646dda2e724c0e8d5a2f8d101fb05e078975a532d7887223c2bb

  - name: granite
    buildsystem: cmake-ninja
    config-opts:
      - -DCMAKE_BUILD_TYPE=RelWithDebInfo
      - -DCMAKE_INSTALL_LIBDIR=/app/lib 
      - -DINTROSPECTION_GIRDIR=/app/share/gir-1.0
      - -DINTROSPECTION_TYPELIBDIR=/app/lib/girepository-1.0
    cleanup:
      - /bin
      - /share/applications
    sources:
      - type: archive
        url: https://github.com/elementary/granite/archive/5.2.1.tar.gz
        sha256: 2166902654f62d300c6990d634f494632aaf14dfe10395dd9ff9d52a503c7ca8

  - name: elementary-theme
    buildsystem: meson
    sources:
      - type: archive
        url: https://github.com/elementary/stylesheet/archive/5.2.0.tar.gz
        sha256: 4a72ba818f57ba7063e092ccdf0ca8ff23185514d5eda1a5a28fe594e0049835

  - name: elementary-icons
    buildsystem: meson
    config-opts:
      - -Dpalettes=false
    sources:
      - type: archive
        url: https://github.com/elementary/icons/archive/5.0.1.tar.gz
        sha256: 2bebc52dd62075e29422dac3f3d4ed40abf3cb24823d43f8ef679fd45593cf51
